<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Daedalus</title>
    <script>
      if (process.env.HOT !== '1') {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '../dist/style.css';
        document.write(link.outerHTML);
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script>
      {
        const bundle = document.createElement('script');
        const isHotMode = process.env.HOT === '1';

        // load dll.vendor.js in dev mode
        if (isHotMode) {
          const dll = document.createElement('script');
          dll.src = "../dll/dll.vendor.js";
          document.write(dll.outerHTML);
        }

        // load bundle.js
        const port = process.env.PORT || 4000;
        bundle.src = (isHotMode) ? `http://localhost:${port}/dist/bundle.js` : '../dist/bundle.js';
        document.write(bundle.outerHTML);
      }
    </script>
  </body>
</html>
